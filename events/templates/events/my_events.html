{% extends 'base.html' %}
{% load static %}


{% block title %}
    My Events
{% endblock title %}
    


{% block main %}
    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 sm:px-6 py-12 md:py-16">
        <section>
            <!-- Page Header -->
            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between text-center sm:text-left mb-8">
                <div>
                    <h1 class="text-3xl sm:text-4xl font-extrabold text-slate-900 tracking-tight">Your Events</h1>
                    <p class="mt-2 text-lg text-slate-600">Manage your published events and drafts.</p>
                </div>
                <a href="{% url 'create_event' %}" class="mt-4 sm:mt-0 inline-block bg-green-600 text-white font-bold py-2.5 px-5 rounded-lg hover:bg-green-700 transition-all">
                    Create New Event
                </a>
            </div>

            <!-- Status Tabs -->
            <div class="mb-8 border-b border-slate-200">
                <nav class="flex -mb-px gap-6" aria-label="Tabs">
                    <a href="?status=published" 
                       class="shrink-0 border-b-2 px-1 pb-4 text-sm font-medium
                              {% if active_status != 'drafts' %}
                                  text-green-600 border-green-500
                              {% else %}
                                  text-slate-500 border-transparent hover:text-slate-700 hover:border-slate-300
                              {% endif %}">
                        Published
                    </a>
                    <a href="?status=drafts" 
                       class="shrink-0 border-b-2 px-1 pb-4 text-sm font-medium
                              {% if active_status == 'drafts' %}
                                  text-green-600 border-green-500
                              {% else %}
                                  text-slate-500 border-transparent hover:text-slate-700 hover:border-slate-300
                              {% endif %}">
                        Drafts
                    </a>
                </nav>
            </div>

            <!-- Event List -->
            <div id="event-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                
                {% comment %} 
                NOTE: This now includes a modified partial.
                The backend should pass the filtered list of events (published or drafts)
                to this template.
                {% endcomment %}
                {% include 'events/partials/_my_event_card.html' %}

            </div>
        </section>
    </main>
{% endblock main %}